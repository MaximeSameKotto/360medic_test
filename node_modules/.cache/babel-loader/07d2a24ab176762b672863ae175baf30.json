{"ast":null,"code":"var _jsxFileName = \"/home/Tek-0/github-project/360medic_test/src/App.js\";\nimport React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport $ from \"jquery\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nvar myArray = [];\nvar data = myArray;\n\nfunction searchTable(value, data) {\n  var filteredData = [];\n\n  for (var i = 0; i < data.length; i++) {\n    value = value.toLowerCase();\n    const name = data[i].product_name.toLowerCase();\n\n    if (name.includes(value)) {\n      filteredData.push(data[i]);\n    }\n  }\n\n  return filteredData;\n}\n\nfunction buildTable(data) {\n  var table = document.getElementById('myTable');\n  table.innerHTML = '';\n\n  for (var i = 0; i < data.length; i++) {\n    var colname = `product_name-${i}`;\n    var colage = `unit_cost-${i}`;\n    var row = `<tr>\n                        <td class=\"name\" data-index=\"${i}\">${data[i].product_name}</td>\n                        <td>${data[i].unit_cost}</td>\n                   </tr>`;\n    table.innerHTML += row;\n  }\n\n  $('.name').on('click', function () {\n    var index = $(this).data('index');\n    alert(\"Product Info\\n-------------\\n\" + \"Name : \" + data[index].product_name + \"\\nPrice : \" + data[index].unit_cost + \"\\nSupplier : \" + data[index].supplier + \"\\nQuantity : \" + data[index].quantity);\n    var button = document.querySelector('#last_product');\n    button.dataset.index = index;\n    console.log(index);\n    console.log(button.dataset.index);\n    $('#last_product').unbind('click');\n    $('#last_product').on('click', function () {\n      alert(\"Product Info\\n-------------\\n\" + \"Name : \" + data[index].product_name + \"\\nPrice : \" + data[index].unit_cost + \"\\nSupplier : \" + data[index].supplier + \"\\nQuantity : \" + data[index].quantity);\n    });\n  });\n}\n\nclass App extends Component {\n  async componentDidMount() {\n    await fetch(\"http://localhost:3000/dataset-example.json\").then(res => res.json()).then(res => myArray = res);\n    data = myArray;\n    buildTable(myArray);\n    $('.product_name').on('click', function () {\n      var column = $(this).data('colname');\n      var order = $(this).data('order');\n      var text = $(this).html();\n      text = text.substring(0, text.length - 1);\n\n      if (order == 'decroissant') {\n        data = data.sort((a, b) => a[column] > b[column] ? 1 : -1);\n        $(this).data(\"order\", \"croissant\");\n        text += '&#9660';\n      } else {\n        data = data.sort((a, b) => a[column] < b[column] ? 1 : -1);\n        $(this).data(\"order\", \"decroissant\");\n        text += '&#9650';\n      }\n\n      $(this).html(text);\n      buildTable(data);\n    });\n    $('.unit_cost').on('click', function () {\n      var column = $(this).data('colname');\n      var order = $(this).data('order');\n      var text = $(this).html();\n      text = text.substring(0, text.length - 1);\n\n      if (order == 'decroissant') {\n        data = data.sort((a, b) => parseInt(a[column].slice(1)) > parseInt(b[column].slice(1)) ? 1 : -1);\n        $(this).data(\"order\", \"croissant\");\n        text += '&#9660';\n      } else {\n        data = data.sort((a, b) => parseInt(a[column].slice(1)) < parseInt(b[column].slice(1)) ? 1 : -1);\n        $(this).data(\"order\", \"decroissant\");\n        text += '&#9650';\n      }\n\n      $(this).html(text);\n      buildTable(data);\n    });\n    $('#search-input').on('keyup', function () {\n      var value = $(this).val();\n      data = searchTable(value, myArray);\n      buildTable(data);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nrender( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 8\n  }\n}), document.getElementById(\"root\"));\nexport default \"App\";","map":{"version":3,"sources":["/home/Tek-0/github-project/360medic_test/src/App.js"],"names":["React","Component","render","$","myArray","data","searchTable","value","filteredData","i","length","toLowerCase","name","product_name","includes","push","buildTable","table","document","getElementById","innerHTML","colname","colage","row","unit_cost","on","index","alert","supplier","quantity","button","querySelector","dataset","console","log","unbind","App","componentDidMount","fetch","then","res","json","column","order","text","html","substring","sort","a","b","parseInt","slice","val"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport $ from \"jquery\"\nimport logo from './logo.svg';\nimport './App.css';\n\nvar myArray = [\n]\n\nvar data = myArray;\n\nfunction searchTable(value, data){\n    var filteredData = []\n\n    for (var i = 0; i < data.length; i++){\n        value = value.toLowerCase()\n        const name = data[i].product_name.toLowerCase()\n\n        if (name.includes(value)){\n            filteredData.push(data[i])\n        }\n    }\n    return filteredData\n}\n\nfunction buildTable(data){\n    var table = document.getElementById('myTable')\n    table.innerHTML = ''\n    for (var i = 0; i < data.length; i++){\n        var colname = `product_name-${i}`\n        var colage = `unit_cost-${i}`\n        var row = `<tr>\n                        <td class=\"name\" data-index=\"${i}\">${data[i].product_name}</td>\n                        <td>${data[i].unit_cost}</td>\n                   </tr>`\n        table.innerHTML += row\n    }\n    $('.name').on('click', function(){\n      var index = $(this).data('index')\n      alert(\"Product Info\\n-------------\\n\" + \"Name : \"+data[index].product_name\n          + \"\\nPrice : \"+data[index].unit_cost\n          + \"\\nSupplier : \"+data[index].supplier\n          + \"\\nQuantity : \"+data[index].quantity)\n        var button = document.querySelector('#last_product')\n        button.dataset.index = index\n        console.log(index)\n        console.log(button.dataset.index)\n        $('#last_product').unbind('click');\n        $('#last_product').on('click', function(){\n            alert(\"Product Info\\n-------------\\n\" + \"Name : \"+data[index].product_name\n                + \"\\nPrice : \"+data[index].unit_cost\n                + \"\\nSupplier : \"+data[index].supplier\n                + \"\\nQuantity : \"+data[index].quantity)\n        })\n    })\n}\n\nclass App extends Component {\n    async componentDidMount() {\n       await fetch (\"http://localhost:3000/dataset-example.json\")\n        .then(res => res.json())\n        .then(res => myArray = res)\n        data = myArray\n        buildTable(myArray);\n\n        $('.product_name').on('click', function(){\n            var column = $(this).data('colname')\n            var order = $(this).data('order')\n            var text = $(this).html()\n            text = text.substring(0, text.length - 1);\n\n            if (order == 'decroissant'){\n                data = data.sort((a, b) => a[column] > b[column] ? 1 : -1)\n                $(this).data(\"order\",\"croissant\");\n                text += '&#9660'\n            }else{\n                data = data.sort((a, b) => a[column] < b[column] ? 1 : -1)\n                $(this).data(\"order\",\"decroissant\");\n                text += '&#9650'\n            }\n\n            $(this).html(text)\n            buildTable(data)\n        });\n\n        $('.unit_cost').on('click', function(){\n            var column = $(this).data('colname')\n            var order = $(this).data('order')\n            var text = $(this).html()\n            text = text.substring(0, text.length - 1);\n\n            if (order == 'decroissant'){\n                data = data.sort((a, b) => parseInt(a[column].slice(1)) > parseInt(b[column].slice(1)) ? 1 : -1)\n                $(this).data(\"order\",\"croissant\");\n                text += '&#9660'\n            }else{\n                data = data.sort((a, b) => parseInt(a[column].slice(1)) < parseInt(b[column].slice(1)) ? 1 : -1)\n                $(this).data(\"order\",\"decroissant\");\n                text += '&#9650'\n            }\n\n            $(this).html(text)\n            buildTable(data)\n        });\n\n        $('#search-input').on('keyup', function(){\n            var value = $(this).val()\n            data = searchTable(value, myArray)\n            buildTable(data)\n        })\n    }\n    render() {\n        return (\n            <div className=\"App\">\n            </div>\n        );\n    }\n}\n\nrender(<App />, document.getElementById(\"root\"));\nexport default \"App\";\n"]},"metadata":{},"sourceType":"module"}